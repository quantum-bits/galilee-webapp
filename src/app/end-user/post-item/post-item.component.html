<div *ngIf="closed" class="title"><!-- show either the title or a very truncated version of the entry -->
  <span *ngIf="post.tiedToReading()">
    {{post.reading_std_ref}} -
  </span>
  <span *ngIf="post.hasTitle()">
    {{post.title}}
  </span>
  <span *ngIf="!post.hasTitle()">
    <span *ngIf="post.entryIsLong(shortTruncationLimit)">
      {{post.entry | truncate : shortTruncationLimit}}
    </span>
    <span *ngIf="!post.entryIsLong(shortTruncationLimit)">
      {{post.entry}}
    </span>
  </span>
</div>


<div *ngIf="!closed">

  <div class="row">
    <div class="col s8">
      <span class="title">{{post.title}}</span>
    </div>
    <!--
    need to think about this...in some views, if the post is owned by the
      authenticated user, then they should be able to edit the post....
    <div class="col s4 right-align">
      <a (click)="deleteEntry()">
        <i class="material-icons grey-text darken-2">delete</i>
      </a>
      <a (click)="updateEntry(journalEntry.id)">
        <i class="material-icons grey-text darken-2">mode_edit</i>
      </a>
    </div>
     -->
  </div>

  <!--
  need to think about this...in some views, if the post is owned by the
    authenticated user, then they should be able to edit the post....
  <div class="col s4 right-align">
    <a (click)="deleteEntry()">
      <i class="material-icons grey-text darken-2">delete</i>
    </a>
    <a (click)="updateEntry(journalEntry.id)">
      <i class="material-icons grey-text darken-2">mode_edit</i>
    </a>
  </div>
   -->

  <div class="row">
    <div class="col s12">
      <div *ngIf="allowTruncation">
        <p>
          {{post.entry | truncate : truncationLimit}}
        </p>
        <div *ngIf="post.entryIsLong(truncationLimit)">
          <br>
          <a class="grey-text darken-3" (click)="toggleAllowTruncation()"> Read More... </a>
        </div>
      </div>
      <div *ngIf="!allowTruncation">
        <p>
          {{post.entry }}
        </p>
        <div *ngIf="post.entryIsLong(truncationLimit)">
          <br>
          <a class="grey-text darken-3" (click)="toggleAllowTruncation()"> Read Less </a>
        </div>
      </div>
      <br>
      <div class="grey-text darken-3 right">{{post.date | amTimeAgo}}</div>
      <br>
    </div>
  </div>
</div>
