<div *ngIf="practiceData">
  <div class="card ">
    <!-- I can't figure out how to get a title bar in a solid color, so I'm cheating and using the card-action class -->
    <div class="card-title-bar">
      <span class="card-title">Instructions</span>
    </div>
    <div class="card-content">
      <span class="card-title">{{practiceData.practice.title}}</span>
      <!--<div class="card-item">-->
      <!--<p><b>{{ reading.description }}</b></p>-->
      <br>
      <p *ngIf="practiceData.steps.length > 1">Step {{stepIndex+1}} of {{practiceData.steps.length}}</p>
      <br *ngIf="practiceData.steps.length > 1">
      <div [innerHTML]="practiceData.steps[stepIndex].description" class="step"></div>

      <br>

      <ul class="stepper horizontal">
        <li *ngFor="let resource of practiceData.steps[stepIndex].resources; let i=index"
            class="step"
            [class.active] = "i == 0">

          <div class="step-content">
            <div class="row valign-wrapper">
              <div class="col s1">
                <i *ngIf="hasPreviousResource(i)"
                   class="material-icons previous-step">navigate_before</i>
              </div>
              <div class="col s10 center-align hide-on-med-and-up">

                <img [src]="resource.fileUrl"
                     [alt]="resource.caption"
                     [width]="determineWidth(i, imageDimensions.smallViewPort.maxWidth, imageDimensions.smallViewPort.maxHeight )"
                     [height]="determineHeight(i, imageDimensions.smallViewPort.maxWidth, imageDimensions.smallViewPort.maxHeight)"/>

              </div>

              <div class="col s10 center-align hide-on-small-only hide-on-large-only">

                <img [src]="resource.fileUrl"
                     [alt]="resource.caption"
                     [width]="determineWidth(i, imageDimensions.medViewPort.maxWidth, imageDimensions.medViewPort.maxHeight )"
                     [height]="determineHeight(i, imageDimensions.medViewPort.maxWidth, imageDimensions.medViewPort.maxHeight)"/>

              </div>

              <div class="col s10 center-align hide-on-med-and-down">

                <img [src]="resource.fileUrl"
                     [alt]="resource.caption"
                     [width]="determineWidth(i, imageDimensions.largeViewPort.maxWidth, imageDimensions.largeViewPort.maxHeight )"
                     [height]="determineHeight(i, imageDimensions.largeViewPort.maxWidth, imageDimensions.largeViewPort.maxHeight)"/>

<!--
                <img [src]="resource.fileUrl" [alt]="resource.caption" max-height="400px"/>
                -->
              </div>
              <div class="col s1">
                <i *ngIf="hasNextResource(i)"
                   class="material-icons next-step">navigate_next</i>
              </div>
            </div>
            <div class="row">
              <div class="col s12 center-align">
                {{resource.caption}}
              </div>
            </div>

          </div>

          <div class="step-title waves-effect">Media {{i}}</div>


        </li>
      </ul>

      <!--<div class="divider"></div>-->


      <div *ngIf="includeNavigationButtons()" class="card-action">
        <a *ngIf="showPreviousButton()" (click)="previousStep()"> <i class="material-icons lr-arrow">navigate_before</i> Previous</a>
        <a></a> <!-- this is here b/c otherwise the vertical spacing gets messed up by the class="right" statement in the following (if Next is all that shows up) -->
        <a *ngIf="showNextButton()" (click)="nextStep()" class="right">Next <i class="material-icons lr-arrow">navigate_next</i></a>
      </div>


      <!--</div>-->
    </div>
  </div>
</div>


<a class="waves-effect waves-light btn" (click)="initializeStepper()">initialize stepper</a>



