<div *ngIf="directionForm" class="direction-form">

  <!--
  <div class="container">
  -->
  <form [formGroup]="directionForm" novalidate (ngSubmit)="onSubmit()">

    <div class="row tighten-margin">
      <div class="col s12 ">

        <!--
        <div class="card">
          <div class="card-content">
        -->
        <div class="row tighten-margin">
          <div class="col s9">
            <h5 *ngIf="isNewDirection" class="card-title">
              Add New {{daily}} Practice and Steps
            </h5>
            <h5 *ngIf="!isNewDirection" class="card-title">
              Update {{daily}} Practice and/or Steps
            </h5>
          </div>
          <div class="col s3 right-align btn-spacing">
            <button
              (click)="onCancel()"
              class="waves-effect waves-teal btn-flat"
              type="button"
            >Cancel
            </button>
          </div>
        </div>
        <div class="row">
          <div class="col s12">
            <ul class="collection with-header enable-overflow">
              <li class="collection-header"><span class="title">Practice</span></li>
              <li class="collection-item">
                <div *ngIf="havePracticeTypes" class="row">
                  <div class="input-field col s12 m12 l10 offset-l1">
                    <select
                      materialize="material_select"
                      [materializeSelectOptions]="selectOptions"
                      formControlName="practiceId"
                    >
                      <option *ngIf="isNewDirection" value="" disabled selected>Choose a practice</option>
                      <option *ngFor="let practice of availablePractices"
                              [value]="practice.id"
                      >{{practice.title}}
                      </option>
                    </select>

                    <div *ngIf="directionForm.controls.practiceId.errors && directionForm.controls.practiceId.touched">
                      <small class="warning">
                        This field is required.
                      </small>
                    </div>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>

        <app-step-array [parentForm]="directionForm" [steps]="directionFormData?.steps"></app-step-array>


        <div class="row form-actions">
          <div class="col s12">

            <button
              (click)="onCancel()"
              class="waves-effect waves-light btn"
              type="button"
            >Cancel
            </button>

            <button
              class="waves-effect waves-light btn right"
              type="submit"
              [class.disabled]="!directionForm.valid"
              [disabled]="!directionForm.valid"
            >{{ isNewDirection ? 'Save' : 'Update' }}
            </button>

          </div>
        </div>
      </div>
    </div>

  </form>
  <!--
  </div>
  -->
</div>
