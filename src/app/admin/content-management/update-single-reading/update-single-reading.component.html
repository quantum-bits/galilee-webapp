<div class="container">
  <ul class="collection with-header">
    <li class="collection-header">
      <h5>Add Reading to {{dateString | amDateFormat: 'LL'}}</h5>
    </li>
    <li class="collection-item">


        <div passage-picker-anchor>
        </div>

      <!--
        <passage-picker #passagePicker
                        (passageAdded)="addReading($event)"
                        (passageUpdated)="updateReading($event)">
        </passage-picker>
        -->

      <h5 *ngIf="!editReadingModeOn && reading">
        <span class="title"> {{reading.stdRef}}</span>
        <span *ngIf="!editPracticeModeOn" class="right">
          <a
            (click)="openEditReadingForm(reading)"
            class="grey-text text-darken-2 include-pointer">
            <i class="material-icons lr-arrow">edit</i>
          </a>
        </span>
      </h5>
    </li>


    <div *ngIf="reading">
      <li *ngFor="let direction of reading.directions; let aIndex=index" class="collection-item white">
        <app-display-direction-steps
          [editable]="editingEnabled[aIndex]"
          [directionType] = "directionType"
          [parentId] = "reading.id"
          [usedPracticeIds] = "usedPracticeIds"
          (onEditModeEnabled)="onPracticedEdited($event)"
          (onEditModeDisabled)="onPracticedEditingCancelled()"
          [directionIndex] = "aIndex"
          [readingIndex] = "readingIndex"
          [direction]= "direction"
          (deleteDirection)="displayDeleteDirectionModal($event)"
          (editDirection)="launchEditPracticeModal($event)">
        </app-display-direction-steps>
      </li>

      <div *ngIf="canAddPractice()">
        <li class="collection-item">
          <span class="right reading-button">
            <a class="waves-effect waves-light btn secondary-content">Add Practice</a>
          </span>
        </li>
      </div>
    </div>



  </ul>



  <div class="row">
    <div class="col s12 back-link">
      <a class="grey-text text-darken-2"
         [routerLink]="['/admin/update-readings', dateString]">
        <i class="material-icons lr-arrow">navigate_before</i>
        Back to Manage Readings
      </a>
    </div>
  </div>

</div>


